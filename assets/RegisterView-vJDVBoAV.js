import{r,w as p,c as b,a as s,b as n,v as i,n as f,d as v,e as w,u as g,f as y,o as x,g as k,R as _,h,i as C}from"./index-DiA7bTSl.js";const V={class:"container d-flex justify-content-center align-items-center vh-100"},A={class:"row shadow rounded p-4 border-dark w-75 h-75 background-box border border-3 border-dark"},U={class:"col-md-6 d-flex flex-column ms-auto justify-content-center"},B={action:"index.html",class:"mb-3 mt-auto ms-3 me-3"},E={class:"mb-3"},q={class:"mb-3"},R={class:"mb-3 relative"},T={class:"mb-3"},F={class:"text-center mt-1"},N="http://localhost:3000",I={__name:"RegisterView",setup($){const{showAlert:d}=h(),u=C(),a=r(!1);r("https://firebasestorage.googleapis.com/v0/b/metawall-a2771.appspot.com/o/local%2Fimg.svg?alt=media&token=0cd7e380-7158-4632-9b3c-3f5766bc954c");const o=r({name:"",email:"",confirmPassword:""}),m=r(""),c=async()=>{try{const t=await y.post(`${N}/auth/sign_Up`,o.value);m.value=t.data.data.user.token,console.log("token",m.value),d("註冊成功","success"),u.push({path:"/"})}catch(t){if(t.response)switch(t.response.status){case 402:d("欄位未填寫正確","error",2e3);break;case 422:console.log("error",t.response),d(`${t.response.data.message}`,"error",2e3);break}}};return p(a,()=>{const t=document.getElementById("password"),e=document.getElementById("confirmpassword");a.value?(t==null||t.setAttribute("type","text"),e==null||e.setAttribute("type","text")):(t==null||t.setAttribute("type","password"),e==null||e.setAttribute("type","password"))}),(t,e)=>(x(),b("main",null,[s("div",V,[s("div",A,[s("div",U,[e[10]||(e[10]=s("div",{class:"text-center"},[s("h1",{class:"text-primary fw-bold"},"註冊")],-1)),s("form",B,[s("div",E,[e[5]||(e[5]=s("label",{for:"name",class:"formControls_label"},"你的姓名",-1)),n(s("input",{type:"text",id:"name",class:"form-control",required:"",placeholder:"請輸入姓名","onUpdate:modelValue":e[0]||(e[0]=l=>o.value.name=l)},null,512),[[i,o.value.name]])]),s("div",q,[e[6]||(e[6]=s("label",{for:"email",class:"formControls_label"},"Email",-1)),n(s("input",{type:"email",id:"email",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=l=>o.value.email=l),required:"",placeholder:"請輸入email"},null,512),[[i,o.value.email]])]),s("div",R,[e[7]||(e[7]=s("label",{for:"password ",class:"formControls_label"},"輸入密碼",-1)),n(s("input",{type:"password",id:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=l=>o.value.password=l),required:"",placeholder:"請輸入密碼"},null,512),[[i,o.value.password]]),s("i",{id:"registerToggleEye",class:f(a.value?" bi bi-eye-fill":" bi bi-eye-slash"),onClick:e[3]||(e[3]=l=>a.value=!a.value)},null,2)]),s("div",T,[e[8]||(e[8]=s("label",{for:"confirmpassword",class:"formControls_label"},"再次輸入",-1)),n(s("input",{type:"password",id:"confirmpassword",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=l=>o.value.confirmPassword=l),required:"",placeholder:"請再次輸入密碼"},null,512),[[i,o.value.confirmPassword]])]),s("div",{class:"text-center"},[s("button",{class:"formControls_btnSubmit btn btn-success",type:"button",onClick:c}," 註冊帳號 ")]),s("div",F,[v(g(_),{class:"formControls_btnSubmit btn btn-primary",to:"/"},{default:w(()=>e[9]||(e[9]=[k("登入")])),_:1})])])])])])]))}};export{I as default};

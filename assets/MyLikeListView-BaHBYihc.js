import{r as w,i as y,c as r,d,a as s,u,F as v,p as L,y as x,o as a,t as k,g as C,O as $,h as N}from"./index-EPcCLbKF.js";import{u as U,N as B,_ as V}from"./NavbarCard-DXiBNRcN.js";import{_ as D}from"./LoadingOverlay-Bj1r4_ZQ.js";import{u as M}from"./useGetUserLikeOrFollowList-heDtlcvE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dayjs.min-Wg1hCB3d.js";const P={key:0},S={class:"container"},j={class:"row mt-4"},A={class:"col-lg-9"},F={key:0},E={key:1},G={class:"col-12"},O={class:"card p-3 shadow-sm border border-3 border-dark"},R={class:"d-flex justify-content-between align-items-center"},T={class:"d-flex align-items-center"},q=["src"],z={class:"ms-3"},H={class:"mb-1 fw-bold"},I={class:"text-muted mb-0"},J=["onClick"],K=["onClick"],ts={__name:"MyLikeListView",setup(Q){const _=C(),c=w(!0),{showAlert:m}=N(),{getUserLikeList:f,userLikeListData:i}=M(),l=U(),b=()=>{_.back()},h=t=>{_.push(`/certainpost/${t}`)},p=async(t,e)=>{try{await $(t,e),i.value=i.value.filter(o=>o._id!==t),m("已取消讚","success",1500)}catch(o){m(`${o.response.data.message}`,"error",2e3)}};return y(async()=>{try{l.loadUserInfo(),await f(l.token)}catch(t){console.log(t)}finally{c.value=!1}}),(t,e)=>{var o;return a(),r(v,null,[d(D,{"is-loading":c.value},null,8,["is-loading"]),c.value?x("",!0):(a(),r("div",P,[d(B),s("div",S,[s("div",j,[s("main",A,[(o=u(i))!=null&&o.length?(a(),r("div",E,[s("div",{class:"row"},[s("div",{class:"col text-center relative"},[s("button",{class:"btn btn-success rounded-3 mb-2 absolute",onClick:b},e[2]||(e[2]=[s("i",{class:"bi bi-arrow-left"},null,-1)])),e[3]||(e[3]=s("h2",{class:"fw-bold"},"您按讚的文章",-1))])]),(a(!0),r(v,null,L(u(i),n=>(a(),r("div",{class:"row mt-2",key:n._id},[s("div",G,[s("div",O,[s("div",R,[s("div",T,[s("img",{src:n.user.photo,alt:"用戶頭像",class:"rounded-circle border",style:{width:"50px",height:"50px","object-fit":"cover"}},null,8,q),s("div",z,[s("p",H,k(n.user.name),1),s("p",I,"發文時間："+k(n.formattedDate),1)])]),s("div",null,[s("button",{class:"btn btn-outline-success btn-sm me-1",onClick:g=>h(n._id)}," 查看貼文 ",8,J),s("button",{class:"btn btn-outline-danger btn-sm",onClick:g=>p(n._id,u(l).token)}," 取消按讚 ",8,K)])])])])]))),128))])):(a(),r("div",F,[s("div",{class:"container p-0"},[s("button",{class:"btn btn-success rounded-3 mb-2",onClick:b},e[0]||(e[0]=[s("i",{class:"bi bi-arrow-left"},null,-1)]))]),e[1]||(e[1]=s("div",{class:"custom-card border border-3 border-dark"},[s("div",{class:"card-content"},"目前沒有按讚的貼文，趕快按讚吧！")],-1))]))]),d(V)])])]))],64)}}};export{ts as default};

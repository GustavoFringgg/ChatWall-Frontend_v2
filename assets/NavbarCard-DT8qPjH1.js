import{A as b,B as h,o as m,c as _,a as t,d as i,e as a,g as d,u as n,t as r,i as g,h as v}from"./index-CVYQRrmA.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const p=b("userStore",{state:()=>({username:"",userid:null,token:"",photo:"",formatTime:"",followers:[],following:[]}),actions:{setUserInfo(o,s){this.username=o.name,this.userid=o._id,this.token=s,this.photo=o.photo,this.formatTime=o.formatTime,this.followers=o.followers,this.following=o.following,localStorage.setItem("userInfo",JSON.stringify({username:this.username,userid:this.userid,token:this.token,photo:this.photo,formatTime:this.formatTime,followers:this.followers,following:this.following}))},clearUserInfo(){this.username="",this.userid=null,this.token="",this.photo="",localStorage.removeItem("userInfo")},loadUserInfo(){const o=localStorage.getItem("userInfo");if(o){const s=JSON.parse(o);this.username=s.username,this.userid=s.userid,this.token=s.token,this.photo=s.photo,this.formatTime=s.formatTime,this.followers=s.followers,this.following=s.following}}}}),x={class:"col-lg-3"},k={class:"card border border-3 border-dark"},y={class:"card-body text-center"},I={class:"d-flex flex-column align-items-start"},T={class:"d-flex align-items-center mb-3"},S={"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasRight","aria-controls":"offcanvasRight"},R=["src"],C={class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},U={class:"offcanvas-header"},$={id:"offcanvasRightLabel"},N={class:"offcanvas-body"},A=["src"],G={__name:"SidebarCard",setup(o){const s=p();return(c,e)=>{const u=h("RouterLink");return m(),_("aside",x,[t("div",k,[t("div",y,[i(u,{class:"btn btn-primary w-100 mb-3 text-decoration-none",to:"/userpost"},{default:a(()=>e[0]||(e[0]=[d("張貼動態")])),_:1}),t("div",I,[t("div",T,[t("div",S,[t("img",{src:n(s).photo,alt:"Avatar",class:"rounded-circle me-2",style:{width:"50px",height:"50px"}},null,8,R),t("span",null,r(n(s).username),1)]),t("div",C,[t("div",U,[t("h5",$,r(n(s).username)+"的個人資料",1),e[1]||(e[1]=t("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"},null,-1))]),t("div",N,[t("div",null,"姓名:"+r(n(s).username),1),t("div",null,[t("img",{src:n(s).photo,alt:"userphoto",class:"rounded-circle mt-2 me-2",style:{width:"200px",height:"200px"}},null,8,A)]),t("div",null,"註冊時間:"+r(n(s).formatTime),1),t("div",null,"粉絲"+r(n(s).followers.length),1),t("div",null,"追蹤人數"+r(n(s).following.length),1)])])]),i(u,{class:"btn btn-light w-100 text-start mb-2",to:"/myfollowlist"},{default:a(()=>e[2]||(e[2]=[t("i",{class:"bi bi-bell me-2"},null,-1),d("追蹤名單")])),_:1}),i(u,{class:"btn btn-light w-100 text-start mb-2",to:"/mylikelist"},{default:a(()=>e[3]||(e[3]=[t("i",{class:"bi bi-hand-thumbs-up me-2"},null,-1),d("我按讚的文章")])),_:1})])])])])}}},L={class:"navbar navbar-expand-lg navbar-light bg-light border-bottom border-3 border-dark"},B={class:"container"},D={class:"d-flex align-items-center"},J={class:"dropdown"},O={class:"btn btn-light dropdown-toggle d-flex align-items-center",type:"button",id:"userDropdown","data-bs-toggle":"dropdown","aria-expanded":"false"},V=["src"],E={class:"fs-6"},W={class:"dropdown-menu","aria-labelledby":"userDropdown"},j={__name:"NavbarCard",setup(o){const s=g(),c=p(),{showAlert:e}=v();c.loadUserInfo();const u=async()=>{e("登出成功，導回登入頁","success",1500),setTimeout(()=>{document.cookie="Token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;",console.log("After deletion:",document.cookie),c.clearUserInfo(),s.push({path:"/"})},1500)};return(q,l)=>{const f=h("RouterLink");return m(),_("header",null,[t("nav",L,[t("div",B,[i(f,{class:"rounded-pill navbar-header fs-4 my-2 text-decoration-none",to:"/index"},{default:a(()=>l[0]||(l[0]=[d("ChatWall雀窩")])),_:1}),t("div",D,[t("div",J,[t("button",O,[t("img",{src:n(c).photo,alt:"User Avatar",class:"rounded-circle me-2",style:{width:"45px",height:"45px"}},null,8,V),t("span",E,r(n(c).username),1)]),t("ul",W,[t("li",null,[i(f,{class:"dropdown-item text-decoration-none",to:"/mypost"},{default:a(()=>l[1]||(l[1]=[d("我的貼文牆")])),_:1})]),t("li",null,[i(f,{class:"dropdown-item text-decoration-none",to:"/profile"},{default:a(()=>l[2]||(l[2]=[d("修改個人資料")])),_:1})]),l[3]||(l[3]=t("li",null,[t("hr",{class:"dropdown-divider"})],-1)),t("li",null,[t("button",{type:"button",class:"dropdown-item",onClick:u},"登出")])])])])])])])}}},H=w(j,[["__scopeId","data-v-225c0248"]]);export{H as N,G as _,p as u};

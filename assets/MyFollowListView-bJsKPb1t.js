import{r as k,i as y,c as n,d as c,a as s,u as m,F as b,p as x,y as C,o as r,t as f,g as L,L as F,h as U}from"./index-EPcCLbKF.js";import{u as N,N as V,_ as $}from"./NavbarCard-DXiBNRcN.js";import{_ as B}from"./LoadingOverlay-Bj1r4_ZQ.js";import{u as M}from"./useGetUserLikeOrFollowList-heDtlcvE.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./dayjs.min-Wg1hCB3d.js";const S={key:0},j={class:"container"},A={class:"row mt-4"},E={class:"col-lg-9"},G={key:0},P={key:1},R={class:"col-12"},T={class:"card p-3 shadow-sm border border-3 border-dark"},q={class:"d-flex justify-content-between align-items-center"},z={class:"d-flex align-items-center"},H=["src"],I={class:"ms-3"},J={class:"mb-1 fw-bold"},K={class:"text-muted mb-0"},O=["onClick"],Q=["onClick"],W={__name:"MyFollowListView",setup(X){const d=L(),i=k(!0),{getUserFollowList:v,getUserFollowListData:l}=M(),{showAlert:g}=U(),a=N(),u=()=>{d.back()},p=t=>{d.push(`/otherpost/${t}`)},w=async t=>{try{await F(t,a.token),l.value=l.value.filter(o=>o.user._id!==t),a.following=a.following.filter(o=>o._id!==t),g("已取消追蹤","success",2e3)}catch(o){console.log("錯誤:",o)}};return y(async()=>{try{a.loadUserInfo(),await v(a.token)}catch(t){console.log(t)}finally{i.value=!1}}),(t,o)=>{var _;return r(),n(b,null,[c(B,{"is-loading":i.value},null,8,["is-loading"]),i.value?C("",!0):(r(),n("div",S,[c(V),s("div",j,[s("div",A,[s("main",E,[(_=m(l))!=null&&_.length?(r(),n("div",P,[s("div",{class:"row"},[s("div",{class:"col text-center relative"},[s("button",{class:"btn btn-success rounded-3 mb-2 absolute",onClick:u},o[2]||(o[2]=[s("i",{class:"bi bi-arrow-left"},null,-1)])),o[3]||(o[3]=s("h2",{class:"fw-bold"},"您追蹤的名單",-1))])]),(r(!0),n(b,null,x(m(l),e=>(r(),n("div",{class:"row mt-2",key:e._id},[s("div",R,[s("div",T,[s("div",q,[s("div",z,[s("img",{src:e.user.photo,alt:"用戶頭像",class:"rounded-circle border",style:{width:"50px",height:"50px","object-fit":"cover"}},null,8,H),s("div",I,[s("p",J,f(e.user.name),1),s("p",K,"追蹤時間："+f(e.formattedDate),1)])]),s("div",null,[s("button",{class:"btn btn-outline-success btn-sm me-1",onClick:h=>p(e.user._id)}," 查看個人資料 ",8,O),s("button",{class:"btn btn-outline-danger btn-sm",onClick:h=>w(e.user._id)}," 取消追蹤 ",8,Q)])])])])]))),128))])):(r(),n("div",G,[s("div",{class:"container p-0"},[s("button",{class:"btn btn-success rounded-3 mb-2",onClick:u},o[0]||(o[0]=[s("i",{class:"bi bi-arrow-left"},null,-1)]))]),o[1]||(o[1]=s("div",{class:"custom-card border border-3 border-dark"},[s("div",{class:"card-content"},"目前沒有追蹤的對象，趕快追蹤一個人吧！")],-1))]))]),c($)])])]))],64)}}},ns=D(W,[["__scopeId","data-v-e05a4677"]]);export{ns as default};
